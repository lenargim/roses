let $=jQuery;$(document).ready(function(){$(".sidebar__button").on("click",function(){$(this).parent(".sidebar__toggle").toggleClass("open")}),$(".change-product-qty").on("click",function(){var t=$(this).data("type"),a=$(this).siblings(".quantity").find("input"),e=+a.val();let n;n="plus"===t?!(t=a.attr("max"))||1+e<=t?1+e:t:(t=a.attr("min")||1)<=e-1?e-1:t,a.val(n)}),$(document).on("click",".single_add_to_cart_button:not(.disabled)",function(t){let a=$(this),e=a.closest("form.cart"),n=(i=e[0],i=new FormData(i,this),r={},i.forEach(function(e,n){var i,o;n.includes("[")?(i=n.split(/\[|\]/).filter(function(t){return t}),o=r,i.forEach(function(t,a){a===i.length-1?Array.isArray(o[t])?o[t].push(e):o[t]?o[t]=[o[t],e]:o[t]=n.includes("[]")?[e]:e:(o[t]||(o[t]={}),o=o[t])})):r[n]?Array.isArray(r[n])?r[n].push(e):r[n]=[r[n],e]:r[n]=e}),r.variation_id?r.product_id=r.variation_id:!r.product_id&&r["add-to-cart"]&&(r.product_id=r["add-to-cart"]),delete r["add-to-cart"],r);var i,r;return t.preventDefault(),$(document.body).trigger("adding_to_cart",[a,n]),$.ajax({type:"POST",url:woocommerce_params.wc_ajax_url.toString().replace("%%endpoint%%","add_to_cart"),data:n,beforeSend:function(){a.prop("disabled",!0),a.removeClass("added").addClass("loading")},complete:function(){a.prop("disabled",!1),a.addClass("added").removeClass("loading")},success:function(t){e.find('input[name="quantity"]')[0].value=1,t.error&&t.product_url?window.location=t.product_url:$(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,a])}}),!1}),$("body").on("click",".modal__close",function(){$(".dark").removeClass("active")}),$(".file-wrap").on("change","input[type=file]",function(){var t=this.files[0];10485760<t.size?(alert("Превышен допустимый размер. 10MB Максимум."),this.value=""):$(this).siblings(".file-text").html(t.name)}),$(".send-cv").on("submit",async function(t){t.preventDefault();let a=[];$(this).find(".required").each(function(){$(this).find("input").val()||($(this).addClass("error"),a.push($(this).attr("name")))}),a.length||((t=new FormData).append("action","send_cv"),t.append("full_name",$(this).find("#full-name").val()),t.append("phone",$(this).find("#phone").val()),t.append("vacancy",$(this).find("#vacancy").val()),t.append("file_cv",$("#file-cv").prop("files")[0]),$.ajax({type:"POST",url:myajax.url,data:t,processData:!1,contentType:!1,cache:!1,success:function(t){t=JSON.parse(t);200===t.status?$(".send-cv")[0].reset():(alert(t.info),console.log(t.desc))},complete:function(t){}}))}),$("#vacancy").select2({width:"100%"})});