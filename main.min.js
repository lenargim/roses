let $=jQuery;$(document).ready(function(){$(".sidebar__button").on("click",function(){$(this).parent(".sidebar__toggle").toggleClass("open")}),$(".change-product-qty").on("click",function(){var t=$(this).data("type"),e=$(this).siblings(".quantity").find("input"),a=+e.val();let o;o="plus"===t?!(t=e.attr("max"))||1+a<=t?1+a:t:(t=e.attr("min")||1)<=a-1?a-1:t,e.val(o)}),$(document).on("click",".single_add_to_cart_button:not(.disabled)",function(t){let e=$(this),a=e.closest("form.cart"),o=(n=a[0],n=new FormData(n,this),d={},n.forEach(function(a,o){var n,c;o.includes("[")?(n=o.split(/\[|\]/).filter(function(t){return t}),c=d,n.forEach(function(t,e){e===n.length-1?Array.isArray(c[t])?c[t].push(a):c[t]?c[t]=[c[t],a]:c[t]=o.includes("[]")?[a]:a:(c[t]||(c[t]={}),c=c[t])})):d[o]?Array.isArray(d[o])?d[o].push(a):d[o]=[d[o],a]:d[o]=a}),d.variation_id?d.product_id=d.variation_id:!d.product_id&&d["add-to-cart"]&&(d.product_id=d["add-to-cart"]),delete d["add-to-cart"],d);var n,d;return t.preventDefault(),$(document.body).trigger("adding_to_cart",[e,o]),$.ajax({type:"POST",url:woocommerce_params.wc_ajax_url.toString().replace("%%endpoint%%","add_to_cart"),data:o,beforeSend:function(){e.prop("disabled",!0),e.removeClass("added").addClass("loading")},complete:function(){e.prop("disabled",!1),e.addClass("added").removeClass("loading")},success:function(t){a.find('input[name="quantity"]')[0].value=1,t.error&&t.product_url?window.location=t.product_url:$(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,e])}}),!1}),$(".modal__close").on("click",function(){$(".dark").removeClass("active")});function t(t){return t.id&&t.shortText||t.text}$("#delivery-type").select2({placeholder:"Выберите способ доставки",data:[{id:1,text:"Водитель-экспедитор до адреса по г. Москве и МО",shortText:"Водитель-экспедитор"},{id:2,text:"До места стоянки машины в городах:\n                  СПБ, Воронеж, Нижний Новгород,\n                  Тула, Рязань",shortText:"До места стоянки машины"},{id:3,text:"До офиса транспортной компании"}],templateSelection:t}),$("#pickup-address").select2({placeholder:"Выберите адрес самовывоза",data:[{id:0,text:"М. Пятницкое шоссе (по расписанию)",shortText:"М. Пятницкое шоссе"},{id:1,text:"Питомник по адресу Солнечногорский р-н, д. Якиманское",shortText:"Питомник в д. Якиманское"}],templateSelection:t}),$("#payment-type").select2({placeholder:"Выберите способ оплаты",templateSelection:t,ajax:{url:myajax.url,dataType:"json",type:"GET",data:{action:"get_payment_methods"},processResults:function(t){return{results:t}},cache:!0}}),0===$(".woocommerce-checkout").find("input[name=payment_method]:checked").size()&&$(".woocommerce-checkout").find("input[name=payment_method]:eq(0)").attr("checked","checked"),$("#payment-type").on("select2:selecting",function(t){console.log("Selecting: ",t.params.args.data),$(`input[name="payment_method"][value=${t.params.args.data.id}]`).prop("checked",!0)}),$("#billing_address_1").suggestions({token:"34515bf2c57c50d4559330829a3a311f047c944a",type:"ADDRESS",count:3,constraints:{locations:{country:"Россия"}},onSelect:function(t){}})});